{% extends 'base.html.twig' %}

{% block body_id 'create' %}

{% block main %}
    {% if not form.vars.valid %}
        <div class="alert alert-error">
            <div class="alert alert-warning alert-dismissible fade show">
                <strong>Warning!</strong>
                {% for children in form.children %}
                    {% if not children.vars.valid %}
                        {{ form_errors(children) }}
                    {% endif %}
                {% endfor %}
                <button type="button" class="close" data-dismiss="alert">&times;</button>
            </div>
        </div>
    {% endif %}

    <div class="signup-form">
        <form action="{{ path('car_create') }}" enctype="multipart/form-data" method="post">
            <h2>Add Car</h2>
            <p class="hint-text">Create your car.</p>

            <div class="form-group">
                <select class="custom-select" name="car[brand]">
                    {% for brand in brands %}
                        <option value="{{ brand.id }}">{{ brand.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" name="car[model]" placeholder="Model"
                       required="required"></div>
            <div class="form-group">
                <select class="custom-select" name="car[body]">
                    {% for body in bodies %}
                        <option value="{{ body.id }}">{{ body.type }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" name="car[year]" placeholder="Year Made"
                       required="required"></div>
            <div class="form-group">
                <select class="custom-select" name="car[fuel]">
                    {% for fuel in fuels %}
                        <option value="{{ fuel.id }}">{{ fuel.type }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" name="car[power]" placeholder="Power"
                       required="required"></div>
            <div class="form-group">
                <input type="text" class="form-control" name="car[topSpeed]" placeholder="Top Speed"
                       required="required"></div>
            <div class="form-group">
                <input type="text" class="form-control" name="car[acceleration]" placeholder="Acceleration"
                       required="required"></div>
            <div class="form-group">
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="inputGroupFile01"
                           aria-describedby="inputGroupFileAddon01" name="car[image]" required="required">
                    <label class="custom-file-label" for="inputGroupFile01">Choose image</label>
                </div></div>
            {{ form_row(form._token) }}
            <div class="form-group">
                <button type="submit" class="btn btn-success btn-lg btn-block">Add</button>
            </div>
        </form>
    </div>
{% endblock %}